# Copilot Code Generation Instructions

## 針對此專案使用的依賴套件注意事項
- 本專案已實作並提供下列 Firebase 相關共用模組，請優先重用：
  - `src/lib/firebase-appcheck.ts`：App Check 驗證初始化，用來保護 Firebase backend 資源，跟 Firestore 無直接關聯
  - `src/lib/firebase-client.ts`：初始化 Firebase app 與 client SDK（如 Firestore），Firestore 初始化應該放這裡
  - `src/lib/firebase-config.ts`：Firebase config 常數，儲存 firebaseConfig 等設定值，不進行初始化
  - `src/lib/firebase-context.tsx`：建立 React context 提供 Firebase 物件給元件使用，這裡只應該透過 context 傳遞已初始化的 Firebase client，例如 Firestore instance
- 使用 React 19、Next.js 15 以及相關生態套件（如 @dnd-kit、headlessui、heroicons、react-big-calendar 等）。
- UI 相關元件請遵守 React Hooks 規範，盡量使用 functional components。
- 對日期時間操作使用 date-fns。
- 對顏色處理使用 colord。
- Firebase SDK 版本 11，firebase hooks 用於狀態管理。
- React PDF Renderer 用於產生 PDF。
- QRCode 用於生成 QR 碼。
- Recharts 用於圖表繪製。
- Vis-timeline 用於時間軸視覺化。
- **Firebase 已啟用 Google reCAPTCHA v3 App Check 嚴格模式，所有與 Firebase 互動的代碼必須正確初始化與驗證 App Check token，確保安全性。**

## 程式碼風格與規範
- 專案已啟用 TypeScript `strict` 模式，所有代碼必須符合嚴格型別檢查與 tsconfig.json 設定。
- **禁止使用 `any` 類型**，務必寫明具體型別或用泛型代替。
- 嚴格遵守 TypeScript 型別定義，確保所有函式與變數都有明確型別。
- 使用駝峰式命名（camelCase）來命名變數與函式。
- 物件屬性名稱請避免下劃線（underscore），除非與第三方 API 介接。
- React 元件名稱請使用 PascalCase。
- 使用 ESLint 規則並且自動修正發現的問題。
- 代碼盡量保持簡潔，避免不必要的複雜度。
- 註解需清楚簡明，說明關鍵邏輯與意圖。

## 其他建議
- 儘量使用可讀性高且維護方便的程式結構。
- 善用解構賦值與 ES6+ 語法特性。
- 使用 async/await 取代 Promise.then 以保持非同步程式碼的清晰度。

---

感謝遵守以上指示，能大幅提升程式碼品質與團隊合作效率。
